<h1>fs-watcher</h1>

<h2>Description</h2>

<p>Watches for filesystem changes to act upon them.</p>

<h2>Documentation</h2>

<p>There is not much to this library. Only a single function.</p>

<h3>Installation</h3>

<pre><code>(ql:quickload 'fs-watcher)
</code></pre>

<h3>The watch function</h3>

<p>This is the signature of the function:</p>

<pre><code>(fs-watcher:watch pathnames callback &amp;key (delay 1))
</code></pre>

<ul>
<li><code>pathnames</code> is a pathname or a list of pathnames. Both are accepted.</li>
<li><code>callback</code> is a callback function called on each change.</li>
<li><code>:delay</code> is the looping delay.</li>
</ul>

<p>At first, the function will get the list of all pathnames. For example,
if you give a directory pathname, <code>fs-watcher</code> will recursively look for
files and directories in it.</p>

<p>Once it has all the necessary information, it constantly polls for them
to see if there is any change. This polling is done every second by default.</p>

<p>Whenever there is a change, the <code>callback</code> is called with an argument:
the pathname that changed.</p>

<h3>Usage example</h3>

<pre><code>(fs-watcher:watch &quot;/home/user/code/&quot; #'(lambda (pathname)
                                         (inferior-shell:run/s &quot;make&quot;)))
</code></pre>

<h2>Contributors</h2>

<ul>
<li><a href="http://margaine.com" >Florian Margaine</a></li>
</ul>

<h2>License</h2>

<p>MIT License.</p>
