<h1>chrome-native-messaging</h1>

<p>Communicate with Chromium or Google Chrome extensions, as a native
application.</p>

<p>For more information on what I mean, please look at
<a href="https://developer.chrome.com/extensions/nativeMessaging" >nativeMessaging</a> documentation.</p>

<h2>API</h2>

<p>This package provides 2 functions: <code>read-from-ext</code> and <code>send-to-ext</code>.</p>

<h3><code>read-from-ext</code></h3>

<pre><code><span class="code"><span class="paren1">(<span class="code"><i><span class="symbol">defun</span></i> read-from-ext <span class="paren2">(<span class="code">stream</span>)</span>
  <span class="string">"Reads the string sent from the extension. The stream is usually *standard-input*."</span></span>)</span></span></code></pre>

<p>A typical call to this function looks like this (using the <code>jsown</code>
package to parse the JSON):</p>

<pre><code><span class="code"><span class="paren1">(<span class="code"><i><span class="symbol">let*</span></i> <span class="paren2">(<span class="code"><span class="paren3">(<span class="code">buffer <span class="paren4">(<span class="code">chromium-native-messaging:read-from-ext <span class="special">*standard-input*</span></span>)</span></span>)</span>
       <span class="paren3">(<span class="code">json-object <span class="paren4">(<span class="code">jsown:parse buffer</span>)</span></span>)</span></span>)</span>
  <span class="comment">; code
</span>  </span>)</span></span></code></pre>

<h3><code>send-to-ext</code></h3>

<pre><code><span class="code"><span class="paren1">(<span class="code"><i><span class="symbol">defun</span></i> send-to-ext <span class="paren2">(<span class="code">string output-stream</span>)</span>
  <span class="string">"Sends a string to the extension. Usually, output-stream is *standard-output*."</span></span>)</span></span></code></pre>

<p>A typical call looks like this (again, using the <code>jsown</code> package):</p>

<pre><code><span class="code"><span class="paren1">(<span class="code">chrome-native-messaging:send-to-ext
 <span class="paren2">(<span class="code">jsown:to-json
  <span class="paren3">(<span class="code">jsown:new-js
    <span class="paren4">(<span class="code"><span class="string">"foo"</span> <span class="string">"bar"</span></span>)</span></span>)</span></span>)</span>
 <span class="special">*standard-output*</span></span>)</span></span></code></pre>

<h2>License</h2>

<p>MIT license.</p>
